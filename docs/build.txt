
Before first build update git submodules with:
git submodule update --init --recursive

or clone whole repo with --recursive option:

git clone --recursive https://github.com/Kicer86/photobroom.git


Required tools and libraries:
 - cmake - version 3.16 or later
 - Qt6 - version 6.0 or higher*
 - exiv2*
 - dlib*
 - magic_enum*

 Optional libraries:
 - KCrash + drkonqi (for crash catching)

 Packages, libraries and other components kept as git submodules:
 - https://github.com/Kicer86/cmake_modules.git                 - various cmake modules and package finders
 - https://github.com/ageitgey/face_recognition_models.git      - modules for face recognition
 - git://anongit.kde.org/kwidgetsaddons.git                     - kdewidgets
 - https://github.com/Kicer86/github_api.git                    - github api

* For convenience it is possible to use vcpkg tool
  for download, build and install all marked libraries.


Build tips:
To install all required depenencies with vcpkg use the following command:
vcpkg install dlib[core,cuda,fftw3] exiv2 magic-enum qtbase qtquickcontrols2 qtsvg qttools

You may wish to include --triplet=x64-windows option to build x64 binaries on Windows system.

In case you do not want vcpkg to download and build Qt6 (for any reason)
do not include qtbase qtquickcontrols2, qtsvg and qttools.
In such case remeber to provide path to your Qt installation during cmake invocation for example with:
cmake -DCMAKE_PREFIX_PATH=C:/Qt/6.2/msvc2019_64 path/to/sources

If your system does not have NVidia GPU, use dlib[core,fftw3] instead of dlib[core,cuda,fftw3] in vcpkg call.

If you want to build unit tests include 'gtest' package.


Tested compilers (with c++20 support):
1. gcc (Linux and Windows)
2. Visual Studio 2019 (Windows)


PhotoBroom cannot be run without installation step.
Build 'install' target to install PhotoBroom.
On Windows photo broom can be launched from installation dir only.
On Linux, thanks to RPATH, it can be launched from build dir.

Extra targets available for Windows:
'deploy'  prepares extra dir with all external dependencies required by PhotoBroom.
'package' target will create a package (Installator) with all files required for running
          PhotoBroom on other Windows machines.
